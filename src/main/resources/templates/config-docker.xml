<?xml version='1.0' encoding='UTF-8'?>
<project>
    <actions/>
    <description></description>
    <keepDependencies>false</keepDependencies>
    <properties/>
    <scm class="hudson.plugins.git.GitSCM" plugin="git@2.3.5">
        <configVersion>2</configVersion>
        <userRemoteConfigs>
            <hudson.plugins.git.UserRemoteConfig>
                <url>https://github.com/onsdigital/babbage.git</url>
            </hudson.plugins.git.UserRemoteConfig>
        </userRemoteConfigs>
        <branches>
            <hudson.plugins.git.BranchSpec>
                <name>*/develop</name>
            </hudson.plugins.git.BranchSpec>
        </branches>
        <doGenerateSubmoduleConfigurations>false</doGenerateSubmoduleConfigurations>
        <submoduleCfg class="list"/>
        <extensions>
            <hudson.plugins.git.extensions.impl.CloneOption>
                <shallow>true</shallow>
                <reference></reference>
            </hudson.plugins.git.extensions.impl.CloneOption>
        </extensions>
    </scm>
    <canRoam>true</canRoam>
    <disabled>false</disabled>
    <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
    <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
    <triggers>
        <jenkins.triggers.ReverseBuildTrigger>
            <spec></spec>
            <upstreamProjects>Babbage (develop)</upstreamProjects>
            <threshold>
                <name>SUCCESS</name>
                <ordinal>0</ordinal>
                <color>BLUE</color>
                <completeBuild>true</completeBuild>
            </threshold>
        </jenkins.triggers.ReverseBuildTrigger>
    </triggers>
    <concurrentBuild>false</concurrentBuild>
    <builders>
        <org.jenkinsci.plugins.dockerbuildstep.DockerBuilder plugin="docker-build-step@1.26">
            <dockerCmd class="org.jenkinsci.plugins.dockerbuildstep.cmd.CreateImageCommand">
                <dockerFolder>$WORKSPACE</dockerFolder>
                <imageTag>carboni.io/babbage:develop</imageTag>
                <noCache>false</noCache>
            </dockerCmd>
        </org.jenkinsci.plugins.dockerbuildstep.DockerBuilder>
        <org.jenkinsci.plugins.dockerbuildstep.DockerBuilder plugin="docker-build-step@1.26">
            <dockerCmd class="org.jenkinsci.plugins.dockerbuildstep.cmd.PushImageCommand">
                <dockerRegistryEndpoint plugin="docker-commons@1.0">
                    <url>carboni.io</url>
                    <credentialsId>4eaec77d-cbb1-48d1-92d4-dc2ffb52a399</credentialsId>
                </dockerRegistryEndpoint>
                <image>carboni.io/babbage</image>
                <tag>develop</tag>
                <registry></registry>
            </dockerCmd>
        </org.jenkinsci.plugins.dockerbuildstep.DockerBuilder>
    </builders>
    <publishers>
        <hudson.tasks.BuildTrigger>
            <childProjects>Deploy publishing (develop)</childProjects>
            <threshold>
                <name>SUCCESS</name>
                <ordinal>0</ordinal>
                <color>BLUE</color>
                <completeBuild>true</completeBuild>
            </threshold>
        </hudson.tasks.BuildTrigger>
    </publishers>
    <buildWrappers/>
</project>
